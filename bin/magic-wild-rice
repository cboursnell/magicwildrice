#!/usr/bin/env ruby

require 'trollop'
require 'magic-wild-rice'

ARGV[0] = "--help" if ARGV.length() == 0

opts = Trollop::options do
  opt :all, "Run everything"
  opt :fastqc, "Run fastqc"
  opt :synteny, "Run synteny analysis"
end

magic = MagicWildRice::MagicWildRice.new "data.yaml"
magic.load_data
magic.install_dependencies

if opts.fastqc or opts.all
  magic.fastqc
  magic.plots
end

if opts.synteny or opts.all
  magic.synteny
end